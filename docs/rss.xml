<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>史圣锐的Linux记录博客</title><link>https://Srhampions.github.io/409BOY.github.io</link><description>旨在记录日常工作代码与所学技术原理/工具/流程等，方便后来者的学习更方便自己（毕竟云服务器目前还很贵）</description><copyright>史圣锐的Linux记录博客</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/36289822?v=4</url><title>avatar</title><link>https://Srhampions.github.io/409BOY.github.io</link></image><lastBuildDate>Wed, 17 Jul 2024 15:18:28 +0000</lastBuildDate><managingEditor>史圣锐的Linux记录博客</managingEditor><ttl>60</ttl><webMaster>史圣锐的Linux记录博客</webMaster><item><title>于师兄提取特定基因环境优化</title><link>https://Srhampions.github.io/409BOY.github.io/post/yu-shi-xiong-ti-qu-te-ding-ji-yin-huan-jing-you-hua.html</link><description>```bash&#13;
cat ./res_sum.txt | awk '$6=='CmeB' {print $1,$2,$3,$4}' | cat &gt; ./id.txt ; split -l 1 ./id.txt -d ./roll&#13;
&#13;
for i in ` ls ./roll* `&#13;
do&#13;
        id=$(cat $i |awk '{print $1}')&#13;
        contig=$(cat $i | awk '{print $2}')&#13;
        start=$(cat $i | awk '{print $3}')&#13;
        cat $i |awk -v OFS='\t' '{print $2,$3,$4}' | cat &gt; ./$id.id.txt ;seqkit subseq --bed ./$id.id.txt ../206_fa/$id -o ./CmeB_${id}_${contig}_${start}.fa&#13;
done&#13;
&#13;
rm roll*&#13;
rm *.id.txt&#13;
```&#13;
&#13;
```bash&#13;
cat ./res_sum.txt | awk '$6=='RECmeB' {print $1,$2,$3,$4}' | cat &gt; ./id.txt ; split -l 1 ./id.txt -d ./roll&#13;
&#13;
for i in ` ls ./roll* `&#13;
do &#13;
	id=$(cat $i |awk '{print $1}')&#13;
	contig=$(cat $i | awk '{print $2}')&#13;
	start=$(cat $i | awk '{print $3}')&#13;
	cat $i |awk -v OFS='\t' '{print $2,$3,$4}' | cat &gt; ./$id.id.txt ;seqkit subseq --bed ./$id.id.txt ../206_fa/$id -o ./RECmeB_${id}_${contig}_${start}.fa&#13;
done&#13;
&#13;
rm roll*&#13;
rm *.id.txt&#13;
```&#13;
&#13;
```bash&#13;
#!/bin/bash&#13;
&#13;
mkdir -p general_ab_anno ; mkdir -p general_ab_anno/ncbi general_ab_anno/resfinder general_ab_anno/plasmidfinder general_ab_anno/vfdb&#13;
&#13;
for id in ` ls *.fa `&#13;
&#13;
do&#13;
&#13;
abricate --threads 32 --db ncbi ${id} &gt; general_ab_anno/ncbi/${id}.txt ; abricate --threads 40 --db resfinder ${id} &gt; general_ab_anno/resfinder/${id}.txt ; abricate --threads 40 --db plasmidfinder ${id} &gt; general_ab_anno/plasmidfinder/${id}.txt ; abricate --threads 40 --db vfdb ${id} &gt; general_ab_anno/vfdb/${id}.txt&#13;
&#13;
done&#13;
&#13;
abricate --summary general_ab_anno/ncbi/*.txt &gt; general_ab_anno/ncbi.summary.txt ; abricate --summary general_ab_anno/plasmidfinder/*.txt &gt; general_ab_anno/plasmidfinder.summary.txt ; abricate --summary general_ab_anno/resfinder/*.txt &gt; general_ab_anno/resfinder.summary.txt ; abricate --summary general_ab_anno/vfdb/*.txt &gt; general_ab_anno/vfdb.summary.txt&#13;
&#13;
&#13;
mkdir -p ncbi_exc ; cat general_ab_anno/ncbi/*.fa.txt &gt;ncbi_exc/res_sum.txt ;cat ncbi_exc/res_sum.txt |grep -v '#' |awk '{print $1,$6,$2,$3-1,$4}' | sed 's#/#_#g' | cat &gt; ncbi_exc/id.txt ; split -l 1 ncbi_exc/id.txt -d ncbi_exc/roll&#13;
for i in ` ls ncbi_exc/roll* |sed 's#ncbi_exc/##g' `&#13;
do&#13;
	str=$(cat ncbi_exc/$i |awk '{print $1}' |sed 's/.fa//g')&#13;
	res=$(cat ncbi_exc/$i |awk '{print $2}')&#13;
	mkdir -p ncbi_exc/$str ;cat ncbi_exc/$i |awk -v OFS='\t' '{print $3,$4,$5}' |cat &gt;ncbi_exc/${str}_${res}_id.txt ;cp ncbi_exc/${str}_* ncbi_exc/${str}/ ; seqkit subseq --bed ncbi_exc/${str}/${str}_${res}_id.txt $str.fa -o ncbi_exc/$str/$res.fa&#13;
done&#13;
&#13;
mkdir -p vfdb_exc ; cat general_ab_anno/vfdb/*.fa.txt &gt;vfdb_exc/vir_sum.txt ;cat vfdb_exc/vir_sum.txt |grep -v '#' |awk '{print $1,$6,$2,$3-1,$4}' | sed 's#/#_#g' |cat &gt; vfdb_exc/id.txt ; split -l 1 vfdb_exc/id.txt -d vfdb_exc/roll&#13;
for i in ` ls vfdb_exc/roll* |sed 's#vfdb_exc/##g' `&#13;
do&#13;
        str=$(cat vfdb_exc/$i |awk '{print $1}' |sed 's/.fa//g')&#13;
        vir=$(cat vfdb_exc/$i |awk '{print $2}')&#13;
        mkdir -p vfdb_exc/$str ;cat vfdb_exc/$i |awk -v OFS='\t' '{print $3,$4,$5}' |cat &gt;vfdb_exc/${str}_${vir}_id.txt&#13;
```&#13;
&#13;
。</description><guid isPermaLink="true">https://Srhampions.github.io/409BOY.github.io/post/yu-shi-xiong-ti-qu-te-ding-ji-yin-huan-jing-you-hua.html</guid><pubDate>Wed, 17 Jul 2024 15:17:55 +0000</pubDate></item><item><title>服务器运维代码</title><link>https://Srhampions.github.io/409BOY.github.io/post/fu-wu-qi-yun-wei-dai-ma.html</link><description>#Linux #笔记 #代码&#13;
&#13;
##### 1. for循环&#13;
&#13;
```bash&#13;
for 变量 in 列表&#13;
do&#13;
	循环&#13;
done&#13;
```&#13;
&#13;
###### Example&#13;
&#13;
```bash&#13;
for i in 1 2 3;do          #写一个变量，列表写了3个参数&#13;
echo '$i'                  #打印一下i这个变量的值&#13;
done                       #for循环结束&#13;
```&#13;
&#13;
##### 2. Linux管道符‘|’&#13;
&#13;
管道符主要用于多重命令处理，前面命令的打印结果作为后面命令的输入。</description><guid isPermaLink="true">https://Srhampions.github.io/409BOY.github.io/post/fu-wu-qi-yun-wei-dai-ma.html</guid><pubDate>Wed, 17 Jul 2024 15:14:52 +0000</pubDate></item><item><title>parsnp进化树构建</title><link>https://Srhampions.github.io/409BOY.github.io/post/parsnp-jin-hua-shu-gou-jian.html</link><description>```conda activate parsnp&#13;
nohup parsnp -c -p 16 -n mafft -r ./sc263.fa -d ./*.fa -o parsnp &amp;&#13;
```。</description><guid isPermaLink="true">https://Srhampions.github.io/409BOY.github.io/post/parsnp-jin-hua-shu-gou-jian.html</guid><pubDate>Wed, 17 Jul 2024 07:08:32 +0000</pubDate></item></channel></rss>